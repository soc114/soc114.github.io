{
  "hash": "04ae3e34cc8e32b04925bf05d5114a86",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Visualization and Summary Statistics\"\nsubtitle: \"UCLA Soc 114\"\nformat:\n  revealjs: default # For the web slides\n  beamer: default      # To generate the PDF version\nresources: \n  - lec02.pdf\n---\n\n\n::: {.cell}\n\n:::\n\n\n## Review of last class\n\nSay this code in English:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnumbers <- c(1,2,3)\nx_length <- length(numbers)\n```\n:::\n\n\n. . .\n\n* Store the vector `c(1,2,3)` in the object `numbers`\n* Use the `length()` function to get the length of `numbers`\n\n## Learning goals for today\n\n* Reason about distributions\n     * and visualize with `ggplot()`\n* Understand summary statistics\n     * and construct with `summarize()`\n* Write clean code with the pipe `|>`\n\n## How to visualize?\n\nHow might we visualize the U.S. income distribution?\n\nHere are some data:\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nincomeSimulated <- read_csv(\n  file = \"https://soc114.github.io/data/incomeSimulated.csv\"\n)\n```\n:::\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,000 × 2\n     id hhincome\n  <dbl>    <dbl>\n1     1   19170.\n2     2  124474.\n3     3   25114.\n# ℹ 997 more rows\n```\n\n\n:::\n:::\n\n\n## Visualize with a histogram\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](lec02_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n\n* Bins of \\$25,000\n* In each bin, count number of people\n\n## Learning a new function: `ggplot`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(\n  data = incomeSimulated,\n  mapping = aes(x = hhincome)\n)\n```\n\n::: {.cell-output-display}\n![](lec02_files/figure-revealjs/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n\n. . .\n\nTwo arguments get us started:\n\n* `data` argument contains data\n* `mapping` argument maps data to plot elements\n\n. . .\n\nWithin `mapping`,\n\n* `aes()` defines the aesthetics of the plot\n* i.e. which variable goes along x-axis\n\n## Adding a layer: `geom_histogram()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(\n  data = incomeSimulated,\n  mapping = aes(x = hhincome)\n) +\n  geom_histogram()\n```\n\n::: {.cell-output-display}\n![](lec02_files/figure-revealjs/unnamed-chunk-7-1.png){width=960}\n:::\n:::\n\n\n. . .\n\n* The `+` indicates that a new layer is coming\n* `geom_histogram()` is the new layer\n* Inherits the `data` and `mapping` of the plot\n\n## Update axis titles\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(\n  data = incomeSimulated,\n  mapping = aes(x = hhincome)\n) +\n  geom_histogram() +\n  labs(\n    x = \"Household Income\", \n    y = \"Count of Households in Bin\"\n  )\n```\n\n::: {.cell-output-display}\n![](lec02_files/figure-revealjs/unnamed-chunk-8-1.png){width=960}\n:::\n:::\n\n\n## Learning goals for today\n\n* Reason about distributions\n     * and visualize with `ggplot()`\n* Understand summary statistics\n     * and construct with `summarize()`\n* Write clean code with the pipe `|>`\n\n## Imagine 3 income distributions\n\n| Household | Distribution 1 | Distribution 2 | Distribution 3 |\n| ---- | ---- | --- | ---- |\n| 1 | \\$10k | \\$40k | \\$50k |\n| 2 | \\$60k | \\$65k | \\$60k |\n| 3 | \\$150k | \\$70k | \\$65k | \n\nNormative question: Which one is better?\n\n## Summary statistic\n\nA **summary statistic** aggregates a distribution to one number\n\n. . .\n\nFor example, the mean\n$$\\text{mean}(\\vec{x}) = \\frac{x_1 + x_2 +\\cdots}{n}$$\n\n## Summary statistic: Mean\n\n| Household | Distribution 1 | Distribution 2 | Distribution 3 |\n| ---- | ---- | --- | ---- |\n| 1 | \\$10k | \\$40k | \\$50k |\n| 2 | \\$60k | \\$65k | \\$60k |\n| 3 | \\$150k | \\$70k | \\$65k |\n| **Mean** | **\\$73k** | **\\$58k** | **\\$58k** |\n\n. . .\n\nBy the mean, **Distribution 1** seems the best.\n\n## Summary statistic: Median\n\n1. Sort households by income.\n2. Find where 50\\% of households have higher incomes\n\n| Household | Distribution 1 | Distribution 2 | Distribution 3 |\n| ---- | ---- | --- | ---- |\n| 1 | \\$10k | \\$40k | \\$50k |\n| 2 | \\$60k | \\$65k | \\$60k |\n| 3 | \\$150k | \\$70k | \\$65k | \n\n## Summary statistic: Median\n\n1. Sort households by income.\n2. Find where 50\\% of households have higher incomes\n\n| Household | Distribution 1 | Distribution 2 | Distribution 3 |\n| ---- | ---- | --- | ---- |\n| 1 | \\$10k | \\$40k | \\$50k |\n| 2 | \\$60k | \\$65k | \\$60k |\n| 3 | \\$150k | \\$70k | \\$65k | \n| **Median** | **\\$60k** | **\\$65k** | **\\$60k** |\n\n. . .\n\nBy the median, **Distribution 2** seems the best.\n\n## Aside: Percentiles generalize the median\n\nThe median is the value in the middle\n\n* 50\\% of people have lower values\n* Also called the 50th percentile\n\n. . .\n\nGeneralizes to other percentiles\n\n* 10th percentile: Value such that 10\\% are lower\n* 90th percentile: Value such that 90\\% are lower\n\nThese summarize the bottom and top of a distribution.\n\n## Summary statistic: Minimum\n\nFind the lowest value.\n\n| Household | Distribution 1 | Distribution 2 | Distribution 3 |\n| ---- | ---- | --- | ---- |\n| 1 | \\$10k | \\$40k | \\$50k |\n| 2 | \\$60k | \\$65k | \\$60k |\n| 3 | \\$150k | \\$70k | \\$65k | \n\n## Summary statistic: Minimum\n\nFind the lowest value.\n\n| Household | Distribution 1 | Distribution 2 | Distribution 3 |\n| ---- | ---- | --- | ---- |\n| 1 | \\$10k | \\$40k | \\$50k |\n| 2 | \\$60k | \\$65k | \\$60k |\n| 3 | \\$150k | \\$70k | \\$65k | \n| **Minimum** | **\\$10k** | **\\$40k** | **\\$50k** |\n\n. . .\n\nBy the minimum, **Distribution 3** seems the best.\n\n## Which summary statistic to choose?\n\nMinimum? Median? Mean?\n\n| Household | Distribution 1 | Distribution 2 | Distribution 3 |\n| ---- | ---- | --- | ---- |\n| 1 | \\$10k | \\$40k | \\$50k |\n| 2 | \\$60k | \\$65k | \\$60k |\n| 3 | \\$150k | \\$70k | \\$65k |\n\n## Choosing a summary statistic\n\nWhich summary to choose is not an empirical question. \n\n. . .\n\n* Depends on what aspect of the distribution matters to you\n\n. . .\n\nThe value of a chosen summary statistic is empirical.\n\n* Data can tell us a value for the mean, the median, the minimum, etc.\n\n## The `summarize()` function\n\nThe `summarize()` function aggregates data to summaries.\n\n* Input is a dataset with $n$ rows\n* Output is a summary with 1 row\n\n## The `summarize()` function\n\n\n::: {.cell}\n\n```{.r .cell-code}\nincomeSimulated\n```\n:::\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,000 × 2\n     id hhincome\n  <dbl>    <dbl>\n1     1   19170.\n2     2  124474.\n3     3   25114.\n# ℹ 997 more rows\n```\n\n\n:::\n:::\n\n\n## The `summarize()` function\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(\n  .data = incomeSimulated,\n  estimated_mean = mean(hhincome)\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 1\n  estimated_mean\n           <dbl>\n1        100899.\n```\n\n\n:::\n:::\n\n\n* `.data` is input data\n* `estimated_mean` is a variable in output data\n* `mean(hhincome)` is the mean household income\n\n## The `summarize()` function: Several summaries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(\n  .data = incomeSimulated,\n  estimated_mean = mean(hhincome),\n  estimated_median = median(hhincome),\n  esitmated_min = min(hhincome)\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  estimated_mean estimated_median esitmated_min\n           <dbl>            <dbl>         <dbl>\n1        100899.           69035.             0\n```\n\n\n:::\n:::\n\n\n## Learning goals for today\n\n* Reason about distributions\n     * and visualize with `ggplot()`\n* Understand summary statistics\n     * and construct with `summarize()`\n* Write clean code with the pipe `|>`\n\n## Piping code with `|>`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(1,2,3)\nlength(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3\n```\n\n\n:::\n\n```{.r .cell-code}\nx |> length()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3\n```\n\n\n:::\n:::\n\n\nThe pipe `|>` passes `x` as the first argument to the `length()` function.\n\n## Piping code with `|>`\n\nStylistically helpful\n\n* Data is a different kind of argument\n* Pipes will help us in the future\n\n\n::: {.cell}\n\n```{.r .cell-code}\nincomeSimulated |>\n  summarize(\n    estimated_mean = mean(hhincome),\n    estimated_median = median(hhincome),\n    esitmated_min = min(hhincome)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  estimated_mean estimated_median esitmated_min\n           <dbl>            <dbl>         <dbl>\n1        100899.           69035.             0\n```\n\n\n:::\n:::\n\n\n## Learning goals for today\n\n* Reason about distributions\n     * and visualize with `ggplot()`\n* Understand summary statistics\n     * and construct with `summarize()`\n* Write clean code with the pipe `|>`\n\nYou can now learn more: R4DS [Ch 1](https://r4ds.hadley.nz/data-visualize.html) and [Ch 3](https://r4ds.hadley.nz/data-transform.html)\n\n",
    "supporting": [
      "lec02_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}