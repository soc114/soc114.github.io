{
  "hash": "16c5cd4b0cec5a2aafa61ff05d3613aa",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Distributions and Summaries\"\n---\n\n> Topic for 1/7.\n\nData science questions often involve many units, each of whom may have a unique value of the outcome variable. How do we summarize all of these outcome values? This page focuses on two approaches: visualizing the distribution and producing one or more summary statistics.\n\nAs an example, below we study household income (an outcome) which is defined for each household (a unit of analysis) among all U.S. households in 2022 (a target population).\n\n## Visualizing the distribution\n\nNot all households have the same income: there is a **distribution** of incomes across households. One way to study a distribution is by visualizing it with a histogram.\n\nTo produce this graph, we first downloaded survey data on [annual household income](https://cps.ipums.org/cps-action/variables/hhincome#description_section) from the 2022 [Current Population Survey](https://cps.ipums.org/cps/index.shtml). The histogram categorizes households into discrete income groups that are each \\$25,000 wide. The height of each bar corresponds to the number of households falling in that income group. We can see that the most common household income values are below \\$100,000, but a small number of households have very high incomes that create a long upper tail at the right.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](2b_summary_statistic_files/figure-html/unnamed-chunk-1-1.png){width=576}\n:::\n:::\n\n\nThe simulated dataset [`incomeSimulated.csv`](../data/incomeSimulated.csv) available on the course website will enable you to produce a similar graph.\n\n\n::: {.cell}\n\n:::\n\n\nThe code below will produce a basic version of this graph. First, you will need to prepare your environment by loading packages.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse) # for manipulating data\nlibrary(scales)    # for labeling graphs easily\n```\n:::\n\n\nThen, you can load the data from the course website.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nincomeSimulated <- read_csv(\"https://soc114.github.io/data/incomeSimulated.csv\")\n```\n:::\n\n\nThe code below produces the graph.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nincomeSimulated |>\n  ggplot(mapping = aes(x = hhincome)) +\n  geom_histogram(binwidth = 25e3) +\n  scale_x_continuous(\n    name = \"Household Income\",\n    labels = label_currency()\n  )\n```\n\n::: {.cell-output-display}\n![](2b_summary_statistic_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nThis code starts with the dataset `incomeSimulated` and uses the pipe operator `|>` to pass the dataset into the plot. The `ggplot()` line creates the plot. The `mapping` argument defines the aethetics (`aes`) of the plot, with the `hhincome` variable being assigned to the `x`-axis. The `geom_histogram` line produces the plot. The `scale_x_continuous()` lines are an optional part to improve readability of the x-axis.\n\n## The summary statistic\n\nWe often want to take a distribution and convert it to a **summary statistic**: a one-number parameter that summarizes a fact about the distribution. A summary statistic collapses the entire distribution down to a single number.\n\nOne summary statistic is the median: the value at which 50\\% of households have higher incomes and 50\\% of households have lower incomes.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](2b_summary_statistic_files/figure-html/unnamed-chunk-6-1.png){width=576}\n:::\n:::\n\n\nYou can produce the median using the simulated data [`incomeSimulated.csv`](../data/incomeSimulated.csv) with the code below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nincomeSimulated |>\n  summarize(estimated_median = median(hhincome))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 1\n  estimated_median\n             <dbl>\n1           68146.\n```\n\n\n:::\n:::\n\n\nThis code starts with the `incomeSimulated` data and uses the pipe operator `|>` to pass the data to the `summarize()` function. The summarize function creates a new variable `estimated_median` which contains the median value of `hhincome`, calculated by applying the `median()` function to this variable. The `median()` function takes a vector of values and returns a single summary. The `summarize()` function converts our data that had 1000 rows into a new format that has only 1 row containing the summary statistic.\n\nOne can also produce several summary statistics. The median is a useful measure of central tendency: it gives a sense of the income value in the middle of the distribution. But it may not give us a good sense of inequality, which requires some sense of the spread of the distribution. One may therefore want other summary statistics, such as the 90th and 10th percentiles. The 90th percentile is the household income value such that 90\\% of households have lower incomes. The 10th percentile is the value such that 10\\% of households have lower incomes.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](2b_summary_statistic_files/figure-html/unnamed-chunk-8-1.png){width=576}\n:::\n:::\n\n\nBelow, we produce these summaries in the simulated data. Note that the `summarize()` function can produce several new variables containing several estimated summary statistics. Here we use the `quantile` function to produce the percentile estimates.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nincomeSimulated |>\n  summarize(\n    estimated_median = median(x = hhincome),\n    estimated_10th_percentile = quantile(x = hhincome, probs = .1),\n    estimated_90th_percentile = quantile(x = hhincome, probs = .9)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  estimated_median estimated_10th_percentile estimated_90th_percentile\n             <dbl>                     <dbl>                     <dbl>\n1           68146.                    17480.                   219228.\n```\n\n\n:::\n:::\n\n\n<!-- One can combine summary statistics. The 90/10 income ratio ($\\frac{\\text{90th percentile}}{\\text{10th percentile}}$) is one measure of inequality: how many dollars does a household at the 90th percentile get for every dollar that goes to a household at the 10th percentile? We might say that inequality is high to the degree that the 90/10 income ratio is large. -->\n\n## How to choose a summary statistic?\n\nThe choice of summary statistic involves a subjective (non-empirical) choice about what aspect of the distribution is important to report. If you are normatively concerned with the growth of high incomes, you might want to summarize the 90th or even 99th percentile of the distribution. If you are concerned with the typical household, you might want to summarize by the median. If you are interested in patterns of inequality among low earners, you might summarize with the 10th percentile.\n\n<!-- [slides](../slides/lec01_asking_questions/lec01_asking_questions.pdf) -->\n\n<!-- Asking your own research question is fun, and it is also daunting. There is no formula for asking a good question, and much research involves trial and error. In this lecture, we will discuss together what makes a good research question. -->\n\n<!-- ## Some characteristics of a good question -->\n\n<!-- While good questions come in many forms, good research questions often has a few characteristics. -->\n\n<!-- ### A unit of analysis -->\n\n<!-- The unit of analysis is the bedrock of a good research question. What will a row of your dataset represent? While the answer may seem straightforward, many units of analysis are possible: a person, a school, a neighborhood, a country, etc. In settings with repeated observations, the unit of analysis might be a person observed at a particular age: Jose at age 29 may be one row of your dataset and Jose at age 30 may be another row. The unit of analysis is the unit at which the outcome is defined, so getting it right is important. -->\n\n<!-- ### A clear population -->\n\n<!-- A good research question addresses a population that is relevant to the author's argument. A well-defined population could be a set of units, such as American residents in a certain age range. It could be the set of all students at Cornell. It could also be a set of aggregate entities, such as the population of all four-year colleges and universities in the U.S., where each unit in the population is a college or university. -->\n\n<!-- When the population is well-defined, a reader should be able to imagine making a list of all the units in that population. When presented with a new unit and asked whether that unit is part of the population, you should be able to confidently answer \"yes\" or \"no\" and not \"maybe.\" -->\n\n<!-- It is rarely satisfying to answer the question \"who is being studied?\" with the answer \"the people in my sample.\" While full-count enumerations of interesting populations exist, usually your sample is a subset of a broader population of interest. Good research tells us who that population is. -->\n\n<!-- ### A precise outcome -->\n\n<!-- For each unit in the population, there is an outcome. This might be the income of an individual person, or the graduation rate of an individual college. A good research question tells you what the outcome is, and why it matters. -->\n\n<!-- ### The potential for surprising results -->\n\n<!-- This may be the hardest to pin down. Before you work with data, try to tell a story about why the results might go one way or another way. Perhaps you study a particular population of employed people where there is one set of reasons to expect men to earn more and another set of reasons to expect women to earn more. Try to convince yourself that the results could go either way! This builds excitement about the empirical answer, because it shows that the answer is really unknown before data analysis. Write down your arguments because they will also help readers be excited about your questions. -->\n\n<!-- Questions where only one answer is plausible are often tedious. Questions that are exciting are often the ones where results could surprise you by going several possible directions. -->\n\n<!-- <!-- ### Examples --> -->\n\n<!-- <!-- The [slides](../slides/lec9/lec9.pdf) contain some examples of good research questions, and some examples of hypothetical questions that could be improved. --> -->\n\n<!-- <!-- {{< video https://www.youtube.com/embed/CRzAR0Wgsq8 >}} --> -->\n\n<!-- <!-- ## Examples --> -->\n\n<!-- <!-- For each example below, consider how you might encourage the researcher to ask a better question. --> -->\n\n<!-- <!-- 1. A researcher within a company takes a new machine learning method---call it \"black box\"---to aggregate thousands of administrative records on worker performance into an aggregate score of \"productivity.\" The researcher thinks the state-of-the-art use of \"black box\" creates a new measure of productivity, and its application in a massive set of administrative records is sure to be a winner. --> -->\n\n<!-- <!-- 2. A researcher at a government statistical agency uses a probability sample survey to estimate the share of total wealth held by the top 1% of households. Some households refused to answer the survey question, and the researcher thinks they might be households with extremely high wealth but isn't sure. The researcher drops them and says that the study is about the top 1% wealth share among households willing to respond to the survey. --> -->\n\n<!-- <!-- 3. A researcher finds that American with extremely high annual wage and salary incomes in 2019 worked more hours per week than others in 2020. --> -->\n\n<!-- <!-- ## Some responses to examples --> -->\n\n<!-- <!-- These responses are not exhaustive; they are a few ways the question could be made more interesting. --> -->\n\n<!-- <!-- 1. The researcher with \"black box\" measure of productivity has a few hurdles. Among them, the outcome is hard to define! The researcher is excited about a new measure of productivity, but they haven't defined what \"productivity\" is outside of this black-box algorithm that is hard to explain. They might first tell us a bit about what they mean by productivity. Then, they might help us see how the black-box algorithm operationalizes that idea, or they might choose a simpler method to study an outcome that is easier to explain. --> -->\n\n<!-- <!-- 2. The researcher studying the wealth share has a difficulty with the target population. We might care about the top 1% of wealth among all households, but it is more difficult to motivate a study of the wealth share among responding households. The author could address this better by telling us what proportion of households were dropped due to missing data, and what else he knows about them. Do they tend to be households that reported high incomes? High values for education? If the researcher could admit that the target population is all households, it would become easier to provide additional evidence to assuage our concerns. --> -->\n\n<!-- <!-- 3. The researcher's claim might seem unsurprising---people with high pay might have big incentives to work many hours the next year. The study would be more interesting if the researcher had developed an argument why this might or might not be the case before looking at the data. Perhaps those with high wage and salary incomes in 2019 would choose to ride out the pandemic of 2020 while relaxing at their mansion in the Hamptons! The empirical evidence is more interesting if we have a reason to wonder about what result it might show. --> -->\n\n",
    "supporting": [
      "2b_summary_statistic_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}