{
  "hash": "06c8c0d1ad614a89bad852d0b38722f3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Problem Set 4: Statistical Learning and DAGs\"\n---\n\n\n\n**Due: 5pm on Friday, Feb 28.**\n\n\n# 1. DAGs\n\nFor 1.1â€“1.5, answer True or False: X is a sufficient adjustment set to identify the causal effect of $A$ on $Y$. Recall that as you work on these problems, a good strategy is to first list all non-causal paths between $A$ and $Y$ and then cross out any that are blocked when conditioning on $X$.\n\n![](pset4_dags.png)\n\n\n# Part 2. Causal inference with statistical modeling\n\nThis problem is about the causal effect of motherhood on employment. The dataset `motherhood.csv` contains simulated data on a set of women.\n\n* `treated` is the treatment which indicates motherhood (`TRUE`, birth in the last year before the observation) vs non-motherhood (`FALSE`, no birth before the observation)\n* `employed` is the outcome, coded `TRUE` or `FALSE`\n\nThe data include a set of pre-treatment variables that we will consider a sufficient adjustment set\n\n* `age` is age in years\n* `sex` is a binary variable coded `Women` and `Men`\n* `race` is a categorical variable coded `Hispanic`, `Non-Hispanic Black`, and `Non-Hispanic Non-Black`\n* `employed_baseline` indicates being employed in the prior year, coded `TRUE` and `FALSE`\n* `educ` is an ordinal variable for educational attainment, coded `Less than high school`, `High school`, `2-year degree`, and `4-year degree` with those with higher levels of education also coded in this last category\n* `marital` is a categorical variable of marital status, coded `no_partner`, `cohabiting`, or `married`\n* `fulltime` indicates full-time employment in the prior year\n* `tenure` is years of experience with a current employer, as of the prior year\n* `experience` is total years of full-time work experience, as of the prior year\n\nUse the code below to load the data:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#motherhood <- read_csv(\"../data_raw/motherhood.csv\")\n# motherhood <- readRDS(\"../data_raw/motherhood.RDS\") |> filter(sex == \"Women\")\n```\n:::\n\n\n\nEstimate a linear model for employment among non-mothers.\n\n* use `lm()` to estimate your model\n* use this model formula: `\n\nUse `lm()` to estimate your model.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# model <- lm(\n#   employed ~ race + employed_baseline + educ + marital + fulltime + tenure + experience,\n#   data = motherhood |> filter(!treated),\n#   w = w\n# )\n```\n:::\n\n\n\nMake predictions from the model\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# predicted <- motherhood |>\n#   filter(treated) |>\n#   mutate(yhat0 = predict(model, newdata = motherhood |> filter(treated), type = \"response\")) |>\n#   select(employed, yhat0, w)\n```\n:::\n\n\n\nEstimate the ATT.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# predicted |>\n#   summarize(estimate = weighted.mean(employed - yhat0, w = w))\n```\n:::\n\n\n\nTo do: Think about the things that could go wrong\n\n- used lm() instead of glm()\n- did not use type = \"response\"\n- did not use weights in outcome model\n- did not use weights in summarize\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}